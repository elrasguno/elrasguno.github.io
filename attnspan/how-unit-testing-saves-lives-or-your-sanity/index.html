<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>How Unit Testing Saves Lives, Your Sanity</title>
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" type="text/css" href="../assets/built/screen.css?v=cab728827a">

    <link rel="shortcut icon" href="../favicon.ico" type="image/x-icon">
    <link rel="canonical" href="http://localhost:2368/how-unit-testing-saves-lives-or-your-sanity/">
    <meta name="referrer" content="no-referrer-when-downgrade">
    <link rel="amphtml" href="http://localhost:2368/how-unit-testing-saves-lives-or-your-sanity/amp/">
    
    <meta property="og:site_name" content="attnspan">
    <meta property="og:type" content="article">
    <meta property="og:title" content="How Unit Testing Saves Lives, Your Sanity">
    <meta property="og:description" content="For the longest time, I didn't really understand what it meant to unit test
code. I remember thinking something along the lines of &quot;wait, so I write a
function that adds one to a number. then I write a test to prove that it added
one to a number?&quot; It just seemed to me, as I'm sure it does to many people, like
extra work, and unit testing wasn't worth the overhead involved it testing all
of my code. I mean, I tested it all when I was developing it, right?

Those were the good old days of back end">
    <meta property="og:url" content="http://localhost:2368/how-unit-testing-saves-lives-or-your-sanity/">
    <meta property="article:published_time" content="2013-05-08T19:42:00.000Z">
    <meta property="article:modified_time" content="2017-09-02T19:59:31.000Z">
    <meta property="article:tag" content="Unit Testing">
    <meta property="article:tag" content="code">
    
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="How Unit Testing Saves Lives, Your Sanity">
    <meta name="twitter:description" content="For the longest time, I didn't really understand what it meant to unit test
code. I remember thinking something along the lines of &quot;wait, so I write a
function that adds one to a number. then I write a test to prove that it added
one to a number?&quot; It just seemed to me, as I'm sure it does to many people, like
extra work, and unit testing wasn't worth the overhead involved it testing all
of my code. I mean, I tested it all when I was developing it, right?

Those were the good old days of back end">
    <meta name="twitter:url" content="http://localhost:2368/how-unit-testing-saves-lives-or-your-sanity/">
    <meta name="twitter:label1" content="Written by">
    <meta name="twitter:data1" content="Dan Racanelli">
    <meta name="twitter:label2" content="Filed under">
    <meta name="twitter:data2" content="Unit Testing, code">
    <meta name="twitter:site" content="@elrasguno">
    <meta name="twitter:creator" content="@elrasguno">
    
    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Article",
    "publisher": {
        "@type": "Organization",
        "name": "attnspan",
        "logo": {
            "@type": "ImageObject",
            "url": "http://localhost:2368/content/images/2017/09/banner_logo-1.png",
            "width": 227,
            "height": 44
        }
    },
    "author": {
        "@type": "Person",
        "name": "Dan Racanelli",
        "image": {
            "@type": "ImageObject",
            "url": "//www.gravatar.com/avatar/72b63e491bc37475e64bb6ffe7f542c3?s=250&d=mm&r=x",
            "width": 250,
            "height": 250
        },
        "url": "http://localhost:2368/author/dan/",
        "sameAs": [
            "https://github.com/elrasguno",
            "https://twitter.com/elrasguno"
        ]
    },
    "headline": "How Unit Testing Saves Lives, Your Sanity",
    "url": "http://localhost:2368/how-unit-testing-saves-lives-or-your-sanity/",
    "datePublished": "2013-05-08T19:42:00.000Z",
    "dateModified": "2017-09-02T19:59:31.000Z",
    "keywords": "Unit Testing, code",
    "description": "For the longest time, I didn&#x27;t really understand what it meant to unit test\ncode. I remember thinking something along the lines of &quot;wait, so I write a\nfunction that adds one to a number. then I write a test to prove that it added\none to a number?&quot; It just seemed to me, as I&#x27;m sure it does to many people, like\nextra work, and unit testing wasn&#x27;t worth the overhead involved it testing all\nof my code. I mean, I tested it all when I was developing it, right?\n\nThose were the good old days of back end",
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "http://localhost:2368/"
    }
}
    </script>

    <script src="../public/ghost-sdk.min.js?v=cab728827a"></script>
<script>
ghost.init({
	clientId: "ghost-frontend",
	clientSecret: "298966f8f865"
});
</script>
    <meta name="generator" content="Ghost 2.38">
    <link rel="alternate" type="application/rss+xml" title="attnspan" href="../rss/index.html">

</head>
<body class="post-template tag-unit-testing tag-code">

    <div class="site-wrapper">

        

<header class="site-header outer">
    <div class="inner">
        <nav class="site-nav">
    <div class="site-nav-left">
                <a class="site-nav-logo" href="../"><img src="../content/images/2017/09/banner_logo-1.png" alt="attnspan"></a>
            <ul class="nav" role="menu">
    <li class="nav-home" role="menuitem"><a href="https://attnspan.com/">Home</a></li>
    <li class="nav-code" role="menuitem"><a href="https://attnspan.com/tag/code/">Code</a></li>
    <li class="nav-photography" role="menuitem"><a href="https://attnspan.com/tag/photography/">Photography</a></li>
</ul>

    </div>
    <div class="site-nav-right">
        <div class="social-links">
                <a class="social-link social-link-tw" href="https://twitter.com/elrasguno" title="Twitter" target="_blank" rel="noopener"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 32 32"><path d="M30.063 7.313c-.813 1.125-1.75 2.125-2.875 2.938v.75c0 1.563-.188 3.125-.688 4.625a15.088 15.088 0 0 1-2.063 4.438c-.875 1.438-2 2.688-3.25 3.813a15.015 15.015 0 0 1-4.625 2.563c-1.813.688-3.75 1-5.75 1-3.25 0-6.188-.875-8.875-2.625.438.063.875.125 1.375.125 2.688 0 5.063-.875 7.188-2.5-1.25 0-2.375-.375-3.375-1.125s-1.688-1.688-2.063-2.875c.438.063.813.125 1.125.125.5 0 1-.063 1.5-.25-1.313-.25-2.438-.938-3.313-1.938a5.673 5.673 0 0 1-1.313-3.688v-.063c.813.438 1.688.688 2.625.688a5.228 5.228 0 0 1-1.875-2c-.5-.875-.688-1.813-.688-2.75 0-1.063.25-2.063.75-2.938 1.438 1.75 3.188 3.188 5.25 4.25s4.313 1.688 6.688 1.813a5.579 5.579 0 0 1 1.5-5.438c1.125-1.125 2.5-1.688 4.125-1.688s3.063.625 4.188 1.813a11.48 11.48 0 0 0 3.688-1.375c-.438 1.375-1.313 2.438-2.563 3.188 1.125-.125 2.188-.438 3.313-.875z"></path></svg>
</a>
        </div>
            <a class="rss-button" href="https://feedly.com/i/subscription/feed/http://localhost:2368/rss/" title="RSS" target="_blank" rel="noopener"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><circle cx="6.18" cy="17.82" r="2.18"></circle><path d="M4 4.44v2.83c7.03 0 12.73 5.7 12.73 12.73h2.83c0-8.59-6.97-15.56-15.56-15.56zm0 5.66v2.83c3.9 0 7.07 3.17 7.07 7.07h2.83c0-5.47-4.43-9.9-9.9-9.9z"></path></svg>
</a>
    </div>
</nav>
    </div>
</header>


<main id="site-main" class="site-main outer">
    <div class="inner">

        <article class="post-full post tag-unit-testing tag-code no-image">

            <header class="post-full-header">
                <section class="post-full-meta">
                    <time class="post-full-meta-date" datetime="2013-05-08">8 May 2013</time>
                        <span class="date-divider">/</span> <a href="../tag/unit-testing/">Unit Testing</a>
                </section>
                <h1 class="post-full-title">How Unit Testing Saves Lives, Your Sanity</h1>
            </header>


            <section class="post-full-content">
                <div class="post-content">
                    <!--kg-card-begin: markdown--><!--kg-card-begin: markdown--><p>For the longest time, I didn't really understand what it meant to unit test code. I remember thinking something along the lines of "wait, so I write a function that adds one to a number. then I write a test to prove that it added one to a number?" It just seemed to me, as I'm sure it does to many people, like extra work, and unit testing wasn't worth the overhead involved it testing all of my code. I mean, I tested it all when I was developing it, right?</p>
<p>Those were the good old days of back end development, when all you needed to do to test your app was hit your web interface, validate input for malicious data, and display error messages to users when they missed a spot filling in a form. Maybe you used an IDE for remote breakpoint debugging, but old school error logging usually did the trick just fine. Load page, fill form, validate error conditions, rinse, repeat.</p>
<p>In a mobile development world, the days of "error log" style debugging are long over. If you're at a small shop, you may have the luxury of having control of the whole stack and codebase. Even then, the typical mobile stack is comprised of a C/Obj-C/Java layer, proxying software (<a href="https://www.charlesproxy.com/">Charles Proxy</a> etc) to deal with firewalls, back end code, and a data storage layer. When working on larger teams of both client, server, and third party server developers, it's incredibly common to get blocked by someone else's bug, making it impossible to even hit your code until the problem is fixed upstream.</p>
<p>On a recent project of mine, I found myself blocked like this on a very regular basis, so much so that I was given time to learn how to use unit testing to save countless time and energy while developing features.</p>
<h3 id="theproblem">The Problem</h3>
<p>I was tasked with building a sizable API in a short timeframe -- sound familiar? -- and my only mechanism for testing my code was a mobile client. The client was also in development, and was understandably buggy. It was inefficient to try and test my code from the client, because on a daily basis, something went wrong, and I was SOL for hours at a time. This approach also forced me through an entire stack worth of code when it was preferable to test small units of code independently.</p>
<h3 id="thesolution">The Solution</h3>
<p>Unit Testing to the rescue! By setting up <a href="https://github.com/sebastianbergmann/phpunit/">PHPUnit</a> on a CentOs server -- which incidentally required a slight hacking of its code to run with PHP 5.2.x -- I was able to test all of my features without needing to use the client for weeks at a time. For any given new feature, immediately after writing an API method I would write unit tests to serve the following purposes</p>
<p>Validating that the method behaved as expected with correct input<br>
Validating that the method behaved as expected with incorrect input<br>
Verifying that the tests have achieved 100% code coverage of the new method<br>
One important distinction that was lost on me was the difference between assertion testing and code coverage testing. Assertion testing involves validating that your API methods return the proper output based on correct and incorrect input. Code coverage_ testing involves writing enough tests so that every line of your API code is hit by the tests.</p>
<h3 id="whathaveunittestsdoneformelately">What have unit tests done for me lately?</h3>
<p>By running the unit tests on a regular basis when code is updated, you can verify that no one has made changes that break the expected functionality of your API. Similarly, unit tests of known, valid input to third party APIs can alert you when something has changed underneath your working code to break it. If new changes do break the API, then you can update the tests accordingly, and move on knowing that your production code is working as expected. Additionally, unit tests also serve as bite-size examples of how to use an API.</p>
<h3 id="istillthinkitstoomuchworkconvincemeotherwise">I still think it's too much work. Convince me otherwise</h3>
<p>For a medium to large codebase that's not at all unit tested, you're right. I ended up starting by using bug fixing time as an opportunity to refactor code and write tests against my bug fixes. This breaks up the work, and over time helps to stabilize an unruly codebase. The greater your code coverage, the quicker it is to locate and extinguish fires when your team is small.</p>
<p>Some tips for the up and coming unit tester</p>
<p>These tips might be of use to you</p>
<p>Keep your methods small and remember to stay <a href="http://en.wikipedia.org/wiki/Don't_repeat_yourself">DRY</a>.<br>
Think about what your method signatures should be in order for them to be easily testable.<br>
Check out <a href="http://jenkins-ci.org/">Jenkins</a> if you haven't already.</p>
<!--kg-card-end: markdown--><!--kg-card-end: markdown-->
                </div>
            </section>


            <footer class="post-full-footer">


                    
<section class="author-card">
        <img class="author-profile-image" src="http://www.gravatar.com/avatar/72b63e491bc37475e64bb6ffe7f542c3?s=250&amp;d=mm&amp;r=x" alt="Dan Racanelli">
    <section class="author-card-content">
        <h4 class="author-card-name"><a href="elrasguno.github.io//author/dan/">Dan Racanelli</a></h4>
            <p>Dan Racanelli has been working in the Music and Video Game industries for a combined 21 years. He’s typically obsessing over optimizing Node.js services, or chasing his children in around San Diego.</p>
    </section>
</section>
<div class="post-full-footer-right">
    <a class="author-card-button" href="elrasguno.github.io//author/dan/">Read More</a>
</div>


            </footer>


        </article>

    </div>
</main>

<aside class="read-next outer">
    <div class="inner">
        <div class="read-next-feed">

                <article class="post-card post tag-photography no-image">


    <div class="post-card-content">

        <a class="post-card-content-link" href="elrasguno.github.io//and-now-some-landscape-photography/">

            <header class="post-card-header">
                    <span class="post-card-tags">photography</span>
                <h2 class="post-card-title">And now, some landscape photography</h2>
            </header>

            <section class="post-card-excerpt">
                <p>In a former life, I was a photography student at UC Boulder, and then The School of the Art Institute of Chicago, focusing primarily on what was described to me as "ethereal&amp;</p>
            </section>

        </a>

        <footer class="post-card-meta">

            <ul class="author-list">
                <li class="author-list-item">

                    <div class="author-name-tooltip">
                        Dan Racanelli
                    </div>

                        <a href="elrasguno.github.io//author/dan/" class="static-avatar">
                            <img class="author-profile-image" src="http://www.gravatar.com/avatar/72b63e491bc37475e64bb6ffe7f542c3?s=250&amp;d=mm&amp;r=x" alt="Dan Racanelli">
                        </a>
                </li>
            </ul>

            <span class="reading-time">2 min read</span>

        </footer>

    </div>

</article>


        </div>
    </div>
</aside>

<div class="floating-header">
    <div class="floating-header-logo">
        <a href="../">
            <span>attnspan</span>
        </a>
    </div>
    <span class="floating-header-divider">—</span>
    <div class="floating-header-title">How Unit Testing Saves Lives, Your Sanity</div>
    <div class="floating-header-share">
        <div class="floating-header-share-label">Share this <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24">
    <path d="M7.5 15.5V4a1.5 1.5 0 1 1 3 0v4.5h2a1 1 0 0 1 1 1h2a1 1 0 0 1 1 1H18a1.5 1.5 0 0 1 1.5 1.5v3.099c0 .929-.13 1.854-.385 2.748L17.5 23.5h-9c-1.5-2-5.417-8.673-5.417-8.673a1.2 1.2 0 0 1 1.76-1.605L7.5 15.5zm6-6v2m-3-3.5v3.5m6-1v2"></path>
</svg>
</div>
        <a class="floating-header-share-tw" href="https://twitter.com/share?text=How%20Unit%20Testing%20Saves%20Lives%2C%20Your%20Sanity&amp;url=http://localhost:2368/how-unit-testing-saves-lives-or-your-sanity/" onclick="window.open(this.href, 'share-twitter', 'width=550,height=235');return false;">
            <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 32 32"><path d="M30.063 7.313c-.813 1.125-1.75 2.125-2.875 2.938v.75c0 1.563-.188 3.125-.688 4.625a15.088 15.088 0 0 1-2.063 4.438c-.875 1.438-2 2.688-3.25 3.813a15.015 15.015 0 0 1-4.625 2.563c-1.813.688-3.75 1-5.75 1-3.25 0-6.188-.875-8.875-2.625.438.063.875.125 1.375.125 2.688 0 5.063-.875 7.188-2.5-1.25 0-2.375-.375-3.375-1.125s-1.688-1.688-2.063-2.875c.438.063.813.125 1.125.125.5 0 1-.063 1.5-.25-1.313-.25-2.438-.938-3.313-1.938a5.673 5.673 0 0 1-1.313-3.688v-.063c.813.438 1.688.688 2.625.688a5.228 5.228 0 0 1-1.875-2c-.5-.875-.688-1.813-.688-2.75 0-1.063.25-2.063.75-2.938 1.438 1.75 3.188 3.188 5.25 4.25s4.313 1.688 6.688 1.813a5.579 5.579 0 0 1 1.5-5.438c1.125-1.125 2.5-1.688 4.125-1.688s3.063.625 4.188 1.813a11.48 11.48 0 0 0 3.688-1.375c-.438 1.375-1.313 2.438-2.563 3.188 1.125-.125 2.188-.438 3.313-.875z"></path></svg>
        </a>
        <a class="floating-header-share-fb" href="https://www.facebook.com/sharer/sharer.php?u=http://localhost:2368/how-unit-testing-saves-lives-or-your-sanity/" onclick="window.open(this.href, 'share-facebook','width=580,height=296');return false;">
            <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 32 32"><path d="M19 6h5V0h-5c-3.86 0-7 3.14-7 7v3H8v6h4v16h6V16h5l1-6h-6V7c0-.542.458-1 1-1z"></path></svg>
        </a>
    </div>
    <progress id="reading-progress" class="progress" value="0">
        <div class="progress-container">
            <span class="progress-bar"></span>
        </div>
    </progress>
</div>




        <footer class="site-footer outer">
            <div class="site-footer-content inner">
                <section class="copyright"><a href="../">attnspan</a> © 2022</section>
                <nav class="site-footer-nav">
                    <a href="../">Latest Posts</a>
                    
                    <a href="https://twitter.com/elrasguno" target="_blank" rel="noopener">Twitter</a>
                    <a href="https://ghost.org" target="_blank" rel="noopener">Ghost</a>
                </nav>
            </div>
        </footer>

    </div>


    <script>
        var images = document.querySelectorAll('.kg-gallery-image img');
        images.forEach(function (image) {
            var container = image.closest('.kg-gallery-image');
            var width = image.attributes.width.value;
            var height = image.attributes.height.value;
            var ratio = width / height;
            container.style.flex = ratio + ' 1 0%';
        })
    </script>


    <script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous">
    </script>
    <script type="text/javascript" src="../assets/built/jquery.fitvids.js?v=cab728827a"></script>

    <script src="../assets/built/infinitescroll.js?v=cab728827a"></script>

    <script>

// NOTE: Scroll performance is poor in Safari
// - this appears to be due to the events firing much more slowly in Safari.
//   Dropping the scroll event and using only a raf loop results in smoother
//   scrolling but continuous processing even when not scrolling
$(document).ready(function () {
    // Start fitVids
    var $postContent = $(".post-full-content");
    $postContent.fitVids();
    // End fitVids

    var progressBar = document.querySelector('#reading-progress');
    var header = document.querySelector('.floating-header');
    var title = document.querySelector('.post-full-title');

    var lastScrollY = window.scrollY;
    var lastWindowHeight = window.innerHeight;
    var lastDocumentHeight = $(document).height();
    var ticking = false;

    function onScroll() {
        lastScrollY = window.scrollY;
        requestTick();
    }

    function onResize() {
        lastWindowHeight = window.innerHeight;
        lastDocumentHeight = $(document).height();
        requestTick();
    }

    function requestTick() {
        if (!ticking) {
            requestAnimationFrame(update);
        }
        ticking = true;
    }

    function update() {
        var trigger = title.getBoundingClientRect().top + window.scrollY;
        var triggerOffset = title.offsetHeight + 35;
        var progressMax = lastDocumentHeight - lastWindowHeight;

        // show/hide floating header
        if (lastScrollY >= trigger + triggerOffset) {
            header.classList.add('floating-active');
        } else {
            header.classList.remove('floating-active');
        }

        progressBar.setAttribute('max', progressMax);
        progressBar.setAttribute('value', lastScrollY);

        ticking = false;
    }

    window.addEventListener('scroll', onScroll, {passive: true});
    window.addEventListener('resize', onResize, false);

    update();

});
</script>


    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>

<script type="text/javascript">
    try {
        var pageTracker = _gat._getTracker("UA-16049610-1");
        pageTracker._trackPageview();
    } catch(err) {}
</script>

</body>
